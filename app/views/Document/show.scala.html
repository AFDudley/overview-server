@(document: OverviewDocument)(implicit lang: Lang)

@jsMessageKeys = @{Seq(
  "views.Document.show.source",
  "views.Document.show.heading.empty",
  "views.Document.show.sidebar.enable",
  "views.Document.show.sidebar.disable",
  "views.Document.show.wrap.enable",
  "views.Document.show.wrap.disable",
  "views.Document.show.title.empty_title"
)}

@defining(scopedMessages("views.Document.show")) { m =>
  <html>
    <head>
      <title data-m-loading="@m("loading")">@m("loading")</title>
      <style type="text/css">
        html, body {
          width: 100%;
          height: 100%;
          border: none;
          margin: 0;
          padding: 0;
          position: relative;
          font: 14px "Helvetica Neue", Helvetica, Arial, sans-serif
        }

        h3 {
          position: absolute;
          box-sizing: border-box;
          top: 0;
          left: 0;
          height: 40px;
          width: 100%;
          overflow: hidden;
          font-size: 20px;
          line-height: 20px;
          padding: 10px;
          margin: 0;
          white-space: nowrap;
        }

        div.document {
          position: absolute;
          top: 40px;
          bottom: 0;
          left: 0;
          right: 0;
        }

        div.document > div {
          width: 100%;
          height: 100%;
          overflow: hidden;
        }

        ul.actions {
          position: absolute;
          box-sizing: border-box;
          line-height: 20px;
          height: 40px;
          top: -40px;
          right: 0;
          padding: 10px;
          margin: 0;
          list-style: none;

          padding-left: 20px;
          background: white;
          background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2dyYWQtdWNnZy1nZW5lcmF0ZWQpIiAvPgo8L3N2Zz4=);
          background: -moz-linear-gradient(left, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 10px);
          background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(255,255,255,0)), color-stop(10px,rgba(255,255,255,1)));
          background: -webkit-linear-gradient(left, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10px);
          background: -o-linear-gradient(left, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10px);
          background: -ms-linear-gradient(left, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10px);
          background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10px);
          filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=1 );
        }

        li {
          display: inline;
        }

        p.source {
          margin: 0;
          padding: 10px;
          height: 14px;
          line-height: 14px;
          white-space: nowrap;
          overflow: hidden;
        }

        pre, iframe:not(.twitter-tweet) {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
          border: none;
          width: 100%;
          height: 100%;
        }

        .twitter-tweet-container {
          margin: 10px auto;
          width: 500px; /* Twitter default */
        }

        blockquote.twitter-tweet {
          /* This should hide until either Twitter replaces it, or Twitter *fails* to replace it. */
          display: none;
        }

        p.source + pre, p.source + iframe {
          border-bottom: 34px solid white; /* p.source padding + 1 line */
        }

        pre {
          overflow: auto;
          background: #f8f8f8;
          padding: 10px;
          border-top: 1px solid #ccc;
        }

        pre.wrap {
          white-space: pre-wrap;
        }
      </style>
      <!--[if gte IE 9]>
        <style type="text/css">
          ul.actions {
            filter: none;
          }
        </style>
      <![endif]-->
    </head>
    <body>
      <script>
        window.messages = @Html(views.JsMessages(jsMessageKeys));
      </script>
      @helper.requireJs(core=routes.Assets.at("javascripts/require.js").url, module=routes.Assets.at("javascripts/bundle/Document/show").url)
      <script>
        require(["show"], function(controller) {
          controller.el.done(function(el) { document.body.appendChild(el); });
          controller.setDocument(@Html(views.json.Document.show(document).toString));
          window.setDocument = controller.setDocument;
          window.scrollByPages = controller.scrollByPages;
        });
      </script>
    </body>
  </html>
}
