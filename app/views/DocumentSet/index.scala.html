@(
  documentSets: Seq[models.orm.DocumentSet],
  form: controllers.forms.DocumentSetForm.FormType
)(implicit lang: Lang, flash: Flash)

@import views.html.helper.EnumToString

@defining(scopedMessages("views.DocumentSet.index")) { m =>
  @main(title=m("title"), bodyClass="document-set-index", h1=m("h1")) {
    @if(documentSets) {
      <ul class="unstyled document-sets">
        @documentSets.map(_documentSet(_))
      </ul>
    } else {
      <p class="no-document-sets">@m("no_document_sets")</p>
    }

    <form method="post" action="@routes.DocumentSetController.create" class="well form-horizontal">
      <h2>@m("manual_create_h2")</h2>

      @if(form.hasGlobalErrors) {
        <div class="control-group error">
          <ul class="unstyled controls">
            @form.globalErrors.map { error =>
              <li class="help-block error">@t(error.message, error.args: _*)</li>
            }
          </ul>
        </div>
      }

      @for(fieldName <- Seq("title", "query")) {
        @form.forField(fieldName) { field =>
          <fieldset class="control-group@(if(field.errors.isEmpty) "" else " error")">
            <label class="control-label" for="document-set-@field.name">@m(field.name + "_label")</label>
            <div class="controls">
              <input id="document-set-@field.name" name="@field.name" type="text" class="input-large" required="required" placeholder="@m(field.name + "_placeholder")" />
              @defining(m(field.name + "_help")) { inlineHelp =>
                @if(!".".equals(inlineHelp)) {
                  <span class="help-inline">@inlineHelp</span>
                }
              }
              @field.errors.map { error =>
                <span class="help-inline">@t(error.message, error.args: _*)</span>
              }
            </div>
          </fieldset>
        }
      }

      <fieldset class="form-actions">
        <input type="submit" class="btn btn-primary" value="@m("manual_create_submit")" />
      </fieldset>
    </form>
  }
}
