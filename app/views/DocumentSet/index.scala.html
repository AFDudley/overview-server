@(
  user: OverviewUser,
  documentSets: ResultPage[OverviewDocumentSet],
  form: controllers.forms.DocumentSetForm.FormType
)(implicit lang: Lang, flash: Flash)

@javascripts = {
  <!--[if IE 9]>
    @bundleJavascript("silverlight-upload-request")
  <![endif]-->

  @bundleJavascript("document-set-index")
}

@jsMessageKeys = @{Seq(
  "views.DocumentSet._documentSet.jobs_to_process",
  "views.DocumentSet._documentSet.action_import",
  "views.DocumentSet._documentSet.document_count",
  "views.DocumentSet._dcimport.legend",
  "views.DocumentSet._dcimport.error",
  "views.DocumentSet._dcimport.labels.email",
  "views.DocumentSet._dcimport.labels.password",
  "views.DocumentSet._dcimport.placeholders.email",
  "views.DocumentSet._dcimport.submit",
  "views.DocumentSet._dcimport.explanation",
  "views.DocumentSet._dcimport.explanation_no_cors",
  "views.DocumentSet._uploadForm.error.SyntaxError",
  "views.DocumentSet._uploadForm.leavePageWarning"
)}

@defining(scopedMessages("views.DocumentSet.index")) { m =>
  @main(optionalUser=Some(user), title=m("title"), bodyClass="document-set-index", h1=m("h1"), javascripts=javascripts, jsMessageKeys=jsMessageKeys) {
    @views.html.DocumentSet._import(user, form)

    @if(documentSets) {
      <ul class="unstyled document-sets">
        @documentSets.map(d => _documentSet(d))
      </ul>

      @helper.Pagination.links(documentSets.pageDetails, (pageNum: Int) => routes.DocumentSetController.index(pageNum).url)

   	  @views.html.DocumentSet._errorList()
    } else {
      <p class="no-document-sets">@m("no_document_sets")</p>
    }
  }
}
